(this.webpackJsonptestproject=this.webpackJsonptestproject||[]).push([[0],{12:function(e){e.exports=JSON.parse('[{"name":"firstName","label":"First Name","type":"text","required":true},{"name":"lastName","label":"Last Name","type":"text","required":true},{"name":"email","label":"Email","type":"email","required":true},{"name":"phoneNumber","label":"Phone Number","type":"tel","required":false},{"name":"message","label":"Message","type":"textarea","required":false}]')},19:function(e,t,a){e.exports=a(35)},32:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(14),r=a.n(o),c=a(16),s=a(3),m=a(5);var i=a(12);var u=()=>{const e=Object(m.b)(),t=Object(s.o)(),a=Object(s.m)(),o=Object(m.c)(e=>e.form.formData),[r,c]=Object(l.useState)({});Object(l.useEffect)(()=>"/"===a.pathname&&0===Object.keys(o).length?t("/"):t("/home"),[o]);return n.a.createElement("div",{className:"form-div"},i.map(e=>n.a.createElement("div",{className:"form-main",key:e.name},n.a.createElement("label",{className:"form-label"},e.label,(null===e||void 0===e?void 0:e.required)?"*":""),n.a.createElement("input",{className:"form-input",type:e.type,value:r[e.name]||"",onChange:t=>((e,t)=>{c({...r,[t]:e.target.value})})(t,e.name)}))),n.a.createElement("button",{className:"form-button",onClick:a=>{a.preventDefault();i.filter(e=>e.required).filter(e=>!r[e.name]).length>0?alert("Please fill all required fields."):(e({type:"SUBMIT_FORM",payload:r}),t("/home"))}},"Submit"))};const d=a(37).a.create({baseURL:"https://jsonplaceholder.typicode.com",mode:"no-cors",headers:{Accept:"application/json","Content-Type":"application/json"}}),p=e=>e.data;var b={get:(e,t,a)=>d.get(e,t,a).then(p),post:(e,t)=>d.post(e,t).then(p)};var f={getProducts:()=>b.get("/posts"),addProduct:e=>b.post("/posts",e)};var E=()=>{const e=Object(s.o)(),[t,a]=Object(l.useState)([]),o=Object(m.c)(e=>e.form.postsData);return Object(l.useEffect)(()=>{f.getProducts().then(e=>{if(o){let t=[o,...e];a(t)}else a(e)}).catch(e=>{console.log(e)})},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"button-div"},n.a.createElement("button",{className:"button-home",onClick:()=>{e("/add-post")}},"Add Post")),n.a.createElement("p",{className:"ml-3"},n.a.createElement("span",{className:"font-bold"},"Note:")," Listing of the posts:"," "),(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map(e=>n.a.createElement("div",{className:"Post-section",key:e.title},n.a.createElement("p",null,n.a.createElement("span",{className:"font-bold"}," Title: "),null===e||void 0===e?void 0:e.title))):n.a.createElement("div",{className:"align-center"},n.a.createElement("h2",null,"loading...")),n.a.createElement("div",{className:"button-div"},n.a.createElement("button",{className:"button-home",onClick:()=>{e("/add-post")}},"Add Post")))};var v=()=>{const e=Object(s.o)(),t=Object(m.b)(),[a,o]=Object(l.useState)({}),[r,c]=Object(l.useState)(null);return n.a.createElement("div",{className:"form-div"},n.a.createElement("div",{className:"form-main"},n.a.createElement("label",{className:"form-label"},"Post Title *"),n.a.createElement("input",{className:"form-input",type:"text",placeholder:"post title",value:a.title||"",onChange:e=>((e,t)=>{o({...a,[t]:e.target.value})})(e,"title")})),n.a.createElement("button",{className:"form-button",onClick:e=>{if(e.preventDefault(),0===Object.keys(a).length||""===a.title)alert("Please fill all required fields.");else{const e={title:a.title};f.addProduct(e).then(e=>{c(e),t({type:"ADD_POST",payload:e}),alert("Post created successfully.")}).catch(e=>{console.log(e)})}}},"Submit"),r&&n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement("span",null," Response: "),null===r||void 0===r?void 0:r.title)),r&&n.a.createElement("button",{className:"form-button",onClick:()=>e("/home")},"Back to Listing"))};var h=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement(c.a,null,n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/home",element:n.a.createElement(E,null)}),n.a.createElement(s.a,{path:"/add-post",element:n.a.createElement(v,null)}),n.a.createElement(s.a,{path:"/",element:n.a.createElement(u,null)})))),g=(a(32),a(17)),N=a(7),j=a(13),O=a(18),y=a.n(O);var P=Object(N.a)({form:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formData:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_FORM":return{...e,formData:t.payload};case"ADD_POST":return{...e,postsData:t.payload};default:return e}}});const k={key:"root",storage:y.a},S=Object(j.a)(k,P),D=Object(N.b)(S),q=Object(j.b)(D);r.a.createRoot(document.getElementById("root")).render(n.a.createElement(m.a,{store:D},n.a.createElement(g.a,{loading:null,persistor:q},n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)))))}},[[19,1,2]]]);
//# sourceMappingURL=main.6a48d99f.chunk.js.map